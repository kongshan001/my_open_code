<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Task Runner - Remote Task Execution Platform</title>
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
    <div id="app">
        <header>
            <div class="header-content">
                <div class="logo">
                    <svg viewBox="0 0 24 24" width="32" height="32">
                        <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    <h1>AI Task Runner</h1>
                </div>
                <div class="header-actions">
                    <button id="settings-btn" class="icon-btn" title="Settings">
                        <svg viewBox="0 0 24 24" width="20" height="20">
                            <path fill="currentColor" d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.04.17 0 .4.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.04-.22 0-.45-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <main>
            <div class="main-layout">
                <aside class="sidebar">
                    <nav class="nav-menu">
                        <button class="nav-item active" data-view="chat">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
                            </svg>
                            Chat
                        </button>
                        <button class="nav-item" data-view="tasks">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                            </svg>
                            Tasks
                        </button>
                        <button class="nav-item" data-view="files">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
                            </svg>
                            Files
                        </button>
                        <button class="nav-item" data-view="history">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
                            </svg>
                            History
                        </button>
                        <button class="nav-item" data-view="git">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12c0 2.85.99 5.46 2.63 7.54l-1.46 1.46C2.43 18.57 2 16.27 2 14h2v-2H2c0-2.27.43-4.57.17-7l1.46 1.46C2.99 6.46 2 9.07 2 11.95c0 5.5 4.5 10 10 10s10-4.5 10-10-4.5-10-10-10z"/>
                                <circle cx="12" cy="8" r="2"/>
                                <circle cx="16" cy="14" r="2"/>
                                <circle cx="8" cy="14" r="2"/>
                            </svg>
                            Git
                        </button>
                    </nav>

                    <div class="active-tasks-section">
                        <h3>Active Tasks</h3>
                        <div id="active-tasks-list">
                            <p class="empty-state">No active tasks</p>
                        </div>
                    </div>
                </aside>

                <div class="content">
                    <div id="chat-view" class="view active">
                        <div class="chat-container">
                            <div id="chat-messages" class="chat-messages">
                                <div class="message assistant">
                                    <div class="message-content">
                                        <p>Welcome to AI Task Runner! I can help you create and manage remote tasks.</p>
                                        <p>What would you like to do today?</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-input">
                                <textarea id="message-input" placeholder="Type your message... (Shift+Enter to send)" rows="1"></textarea>
                                <button id="send-btn">
                                    <svg viewBox="0 0 24 24" width="20" height="20">
                                        <path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div id="tasks-view" class="view">
                        <div class="view-header">
                            <h2>Tasks</h2>
                            <button id="create-task-btn" class="primary-btn">
                                <svg viewBox="0 0 24 24" width="16" height="16">
                                    <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                </svg>
                                Create Task
                            </button>
                        </div>
                        <div id="tasks-list" class="tasks-list">
                            <p class="empty-state">No tasks created yet</p>
                        </div>
                    </div>

                    <div id="files-view" class="view">
                        <div class="view-header">
                            <h2>Workspace Files</h2>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="text" id="file-search" placeholder="Search files..." style="padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.375rem; background: var(--bg-darker); color: var(--text); font-size: 0.85rem; min-width: 200px;">
                                <button id="refresh-files-btn" class="icon-btn" title="Refresh">
                                    <svg viewBox="0 0 24 24" width="18" height="18">
                                        <path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                                    </svg>
                                </button>
                                <button id="create-file-btn" class="primary-btn" title="Create File">
                                    <svg viewBox="0 0 24 24" width="16" height="16">
                                        <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                    </svg>
                                    Create
                                </button>
                            </div>
                        </div>
                        <div id="files-breadcrumb" class="files-breadcrumb"></div>
                        <div id="files-browser" class="files-browser">
                            <p class="empty-state">Loading files...</p>
                        </div>
                    </div>

                    <div id="history-view" class="view">
                        <div class="view-header">
                            <h2>Execution History</h2>
                            <button id="clear-history-btn" class="secondary-btn">Clear</button>
                        </div>
                        <div id="history-list" class="history-list">
                            <p class="empty-state">No execution history</p>
                        </div>
                    </div>

                    <div id="git-view" class="view">
                        <div class="view-header">
                            <h2>Git History</h2>
                            <div style="display: flex; gap: 0.5rem;">
                                <button id="refresh-git-btn" class="icon-btn" title="Refresh">
                                    <svg viewBox="0 0 24 24" width="18" height="18">
                                        <path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                                    </svg>
                                </button>
                                <button id="view-diff-btn" class="secondary-btn">View Diff</button>
                            </div>
                        </div>
                        <div id="git-commits-list" class="commits-list">
                            <p class="empty-state">Loading commits...</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div id="modal-overlay" class="modal-overlay hidden">
            <div id="modal" class="modal">
                <div class="modal-header">
                    <h3 id="modal-title">Modal Title</h3>
                    <button id="modal-close" class="icon-btn">
                        <svg viewBox="0 0 24 24" width="20" height="20">
                            <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                        </svg>
                    </button>
                </div>
                <div id="modal-content" class="modal-content">
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="assets/js/main.js"></script>
</body>
</html>